{
  "version": 3,
  "sources": ["../../../app/routes/$username.$postId.jsx"],
  "sourcesContent": ["import { Form, Link, useLoaderData } from \"@remix-run/react\";\nimport connectDb from \"~/db/connectDb.server\";\nimport { getSession } from \"~/sessions\";\n\nexport async function loader({ params, request }) {\n  const db = await connectDb();\n  const data = await db.models.Post.findById(params.postId);\n\n  const session = await getSession(request.headers.get(\"Cookie\"));\n  const userId = session.get(\"userId\");\n  if (userId) {\n    // Return the data and the user. We need the user to check if the user is admin.\n    const user = await db.models.User.findById(userId);\n    return { data, user };\n  } else {\n    return { data };\n  }\n}\n\nexport default function PostCard({ post }) {\n  const loaderData = useLoaderData();\n  return (\n    <div className=\"pt-20 mx-auto text-center bg-slate-300 w-2/5 rounded-lg mb-8 drop-shadow-lg\">\n      <div className=\"\">\n        <h1 className=\"text-center text-lg p-5 font-bold\">\n          {loaderData?.data?.title}\n        </h1>\n        <p className=\"text-center\">{loaderData?.data?.description}</p>\n        <img\n          src={post.image}\n          alt={post.title}\n          className=\"w-52 mx-auto  rounded-lg\"\n        />\n      </div>\n      {loaderData?.user?.isAdmin && (\n        <div className=\"flex justify-center items-center\">\n          <Link to={`/${loaderData?.data?._id}/edit`}>\n            <button className=\"buttonPrimary\">Edit</button>\n          </Link>\n          <Form method=\"post\" action={`/${loaderData?.data?._id}/delete`}>\n            <button type=\"submit\" className=\"buttonDanger\">\n              Delete\n            </button>\n          </Form>\n        </div>\n      )}\n    </div>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;AACA,uBAAsB;AADtB;AAmBe,SAAR,SAA0B,EAAE,KAAK,GAAG;AAnB3C;AAoBE,QAAM,aAAa,cAAc;AACjC,SACE,mDAAC;AAAA,IAAI,WAAU;AAAA,IACb;AAAA,yDAAC;AAAA,QAAI,WAAU;AAAA,QACb;AAAA,6DAAC;AAAA,YAAG,WAAU;AAAA,YACX,yDAAY,SAAZ,mBAAkB;AAAA,aADrB;AAAA;AAAA;AAAA;AAAA,iBAEA;AAAA,UACA,mDAAC;AAAA,YAAE,WAAU;AAAA,YAAe,yDAAY,SAAZ,mBAAkB;AAAA,aAA9C;AAAA;AAAA;AAAA;AAAA,iBAA0D;AAAA,UAC1D,mDAAC;AAAA,YACC,KAAK,KAAK;AAAA,YACV,KAAK,KAAK;AAAA,YACV,WAAU;AAAA,aAHZ;AAAA;AAAA;AAAA;AAAA,iBAIA;AAAA;AAAA,SATF;AAAA;AAAA;AAAA;AAAA,aAUA;AAAA,QACC,8CAAY,SAAZ,mBAAkB,YACjB,mDAAC;AAAA,QAAI,WAAU;AAAA,QACb;AAAA,6DAAC;AAAA,YAAK,IAAI,KAAI,8CAAY,SAAZ,mBAAkB;AAAA,YAC9B,6DAAC;AAAA,cAAO,WAAU;AAAA,cAAgB;AAAA,eAAlC;AAAA;AAAA;AAAA;AAAA,mBAAsC;AAAA,aADxC;AAAA;AAAA;AAAA;AAAA,iBAEA;AAAA,UACA,mDAAC;AAAA,YAAK,QAAO;AAAA,YAAO,QAAQ,KAAI,8CAAY,SAAZ,mBAAkB;AAAA,YAChD,6DAAC;AAAA,cAAO,MAAK;AAAA,cAAS,WAAU;AAAA,cAAe;AAAA,eAA/C;AAAA;AAAA;AAAA;AAAA,mBAEA;AAAA,aAHF;AAAA;AAAA;AAAA;AAAA,iBAIA;AAAA;AAAA,SARF;AAAA;AAAA;AAAA;AAAA,aASA;AAAA;AAAA,KAtBJ;AAAA;AAAA;AAAA;AAAA,SAwBA;AAEJ;",
  "names": []
}

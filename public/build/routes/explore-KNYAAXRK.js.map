{
  "version": 3,
  "sources": [
    "../../../app/routes/explore.jsx"
  ],
  "sourcesContent": [
    "import {\n  useLoaderData,\n  Link,\n  useSubmit,\n  Form,\n  Outlet,\n  useLocation,\n} from \"@remix-run/react\";\nimport connectDb from \"~/db/connectDb.server.js\";\n//import { requireUserSession } from \"~/sessions.server\";\n\nexport async function loader({ request }) {\n  const db = await connectDb();\n  //const session = await requireUserSession(request);\n  const url = new URL(request.url);\n  const searchQuery = url.searchParams.get(\"q\");\n  const sortQuery = url.searchParams.get(\"s\");\n  const posts = await db.models.Post.find(\n    searchQuery\n      ? {\n          title: { $regex: new RegExp(searchQuery, \"i\") },\n        }\n      : {}\n  ).sort(\n    sortQuery\n      ? { [sortQuery]: -1, title: 1 }\n      : {\n          title: 1,\n        }\n  );\n  //if (session.has(\"userId\")) {\n  return posts;\n  // }\n}\n\nexport default function Index() {\n  const posts = useLoaderData();\n  const submit = useSubmit();\n  const location = useLocation();\n\n  return (\n    <div className=\"sm:flex:none md:flex w-full\">\n      <div className=\"shadow-lg bg-gray-100 mr-5 rounded-2xl p-10  sm:w-full md:w-3/4\">\n        <h1 className=\"text-2xl mb-4\">Code post</h1>\n        <h2 className=\"text-lg mb-3\">Select code post:</h2>\n\n        <Form\n          className=\"searchForm\"\n          method=\"get\"\n          onChange={(e) => {\n            submit(e.currentTarget);\n          }}\n          action=\"\"\n        >\n          <input\n            placeholder=\"Search...\"\n            autoComplete=\"off\"\n            type=\"search\"\n            name=\"q\"\n            className=\"mb-10 rounded-2xl p-2\"\n          />\n        </Form>\n\n        <Form\n          className=\"sortForm\"\n          method=\"get\"\n          onChange={(e) => {\n            submit(e.currentTarget);\n          }}\n          action=\"\"\n        >\n          <select className=\"mb-10 rounded-2xl p-2\" name=\"s\" id=\"s\">\n            <option value=\"title\">Title</option>\n            <option value=\"description\">Description</option>\n            <option value=\"favorite\">Favorite</option>\n            <option value=\"timeCreated\">Time created</option>\n          </select>\n        </Form>\n\n        <ul className=\"\">\n          {posts.map((post) => {\n            return (\n              <li\n                className=\"text-blue-600 hover:underline  py-2 text-xl\"\n                key={post._id}\n              >\n                <Link\n                  to={`/posts/${post._id}${location.search}`}\n                  className=\"focus:font-bold p-1\"\n                >\n                  {post.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n      <div className=\"shadow-lg bg-gray-100 rounded-2xl p-10 sm:w-full \">\n        <Outlet />\n      </div>\n      <Form name=\"\" id=\"\" method=\"post\" action=\"/logout\">\n        <button className=\"w-20 inline-block font-bold bg-gray-200 rounded p-2 text-sm text-red-500 hover:text-red-800\">\n          Logout\n        </button>\n      </Form>\n    </div>\n  );\n}\n"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAQA,8BAAsB;AARtB;AAmCe,SAAR,QAAyB;AAC9B,QAAM,WAAW,cAAc;AAC/B,QAAM,SAAS,UAAU;AACzB,QAAM,WAAW,YAAY;AAE7B,SACE,mDAAC;AAAA,IAAI,WAAU;AAAA,IACb;AAAA,yDAAC;AAAA,QAAI,WAAU;AAAA,QACb;AAAA,6DAAC;AAAA,YAAG,WAAU;AAAA,YAAgB;AAAA,aAA9B;AAAA;AAAA;AAAA;AAAA,iBAA0C;AAAA,UAC1C,mDAAC;AAAA,YAAG,WAAU;AAAA,YAAe;AAAA,aAA7B;AAAA;AAAA;AAAA;AAAA,iBAAiD;AAAA,UAEjD,mDAAC;AAAA,YACC,WAAU;AAAA,YACV,QAAO;AAAA,YACP,UAAU,CAAC,MAAM;AACf,qBAAO,EAAE,aAAa;AAAA,YACxB;AAAA,YACA,QAAO;AAAA,YAEP,6DAAC;AAAA,cACC,aAAY;AAAA,cACZ,cAAa;AAAA,cACb,MAAK;AAAA,cACL,MAAK;AAAA,cACL,WAAU;AAAA,eALZ;AAAA;AAAA;AAAA;AAAA,mBAMA;AAAA,aAdF;AAAA;AAAA;AAAA;AAAA,iBAeA;AAAA,UAEA,mDAAC;AAAA,YACC,WAAU;AAAA,YACV,QAAO;AAAA,YACP,UAAU,CAAC,MAAM;AACf,qBAAO,EAAE,aAAa;AAAA,YACxB;AAAA,YACA,QAAO;AAAA,YAEP,6DAAC;AAAA,cAAO,WAAU;AAAA,cAAwB,MAAK;AAAA,cAAI,IAAG;AAAA,cACpD;AAAA,mEAAC;AAAA,kBAAO,OAAM;AAAA,kBAAQ;AAAA,mBAAtB;AAAA;AAAA;AAAA;AAAA,uBAA2B;AAAA,gBAC3B,mDAAC;AAAA,kBAAO,OAAM;AAAA,kBAAc;AAAA,mBAA5B;AAAA;AAAA;AAAA;AAAA,uBAAuC;AAAA,gBACvC,mDAAC;AAAA,kBAAO,OAAM;AAAA,kBAAW;AAAA,mBAAzB;AAAA;AAAA;AAAA;AAAA,uBAAiC;AAAA,gBACjC,mDAAC;AAAA,kBAAO,OAAM;AAAA,kBAAc;AAAA,mBAA5B;AAAA;AAAA;AAAA;AAAA,uBAAwC;AAAA;AAAA,eAJ1C;AAAA;AAAA;AAAA;AAAA,mBAKA;AAAA,aAbF;AAAA;AAAA;AAAA;AAAA,iBAcA;AAAA,UAEA,mDAAC;AAAA,YAAG,WAAU;AAAA,YACX,mBAAS,IAAI,CAAC,YAAY;AACzB,qBACE,mDAAC;AAAA,gBACC,WAAU;AAAA,gBAGV,6DAAC;AAAA,kBACC,IAAI,aAAa,QAAQ,MAAM,SAAS;AAAA,kBACxC,WAAU;AAAA,kBAET,kBAAQ;AAAA,mBAJX;AAAA;AAAA;AAAA;AAAA,uBAKA;AAAA,iBAPK,QAAQ,KAFf;AAAA;AAAA;AAAA;AAAA,qBAUA;AAAA,YAEJ,CAAC;AAAA,aAfH;AAAA;AAAA;AAAA;AAAA,iBAgBA;AAAA;AAAA,SArDF;AAAA;AAAA;AAAA;AAAA,aAsDA;AAAA,MACA,mDAAC;AAAA,QAAI,WAAU;AAAA,QACb,6DAAC,YAAD;AAAA;AAAA;AAAA;AAAA,eAAQ;AAAA,SADV;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MACA,mDAAC;AAAA,QAAK,MAAK;AAAA,QAAG,IAAG;AAAA,QAAG,QAAO;AAAA,QAAO,QAAO;AAAA,QACvC,6DAAC;AAAA,UAAO,WAAU;AAAA,UAA8F;AAAA,WAAhH;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,SAHF;AAAA;AAAA;AAAA;AAAA,aAIA;AAAA;AAAA,KA/DF;AAAA;AAAA;AAAA;AAAA,SAgEA;AAEJ;",
  "names": []
}

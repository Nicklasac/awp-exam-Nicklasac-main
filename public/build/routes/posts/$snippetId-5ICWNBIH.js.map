{
  "version": 3,
  "sources": ["../../../../app/routes/posts/$snippetId.jsx"],
  "sourcesContent": ["import { json, redirect } from \"@remix-run/node\";\nimport { useLoaderData, useCatch, Link } from \"@remix-run/react\";\nimport connectDb from \"~/db/connectDb.server.js\";\n\nexport async function loader({ params }) {\n  const db = await connectDb();\n\n  const snippet = await db.models.Snippet.findById(params.snippetId);\n  if (!snippet) {\n    throw new Response(\n      `I don't seem to be able to find a post with that id: ${params.snippetId} \uD83E\uDD14\uD83D\uDD0E `,\n      {\n        status: 404,\n      }\n    );\n  }\n  return json(snippet);\n}\n\n//DELETE SELECTED CODE SNIPPET\n\nexport const action = async ({ request, params }) => {\n  const db = await connectDb();\n  const form = await request.formData();\n  if (form.get(\"_method\") === \"delete\") {\n    const snippet = await db.models.Snippet.findById(params.snippetId);\n    if (!snippet)\n      throw new Error(\"The snippet you are trying to delete doesn't exist\");\n    await snippet.delete({ where: { id: params.snippetId } });\n    return redirect(\"../\");\n\n    //ADD SELECTED CODE SNIPPET TO FAVORITE / REMOVE FROM FAVORITE\n  } else if (form.get(\"_method\") === \"favorite\") {\n    const snippet = await db.models.Snippet.findById(params.snippetId);\n    snippet.favorite = !snippet.favorite;\n    await snippet.save();\n  }\n  return null;\n};\n\nexport default function SnippetPage() {\n  const snippet = useLoaderData();\n  const dateTime = new Date(snippet.createdAt);\n  const date = dateTime.getDate();\n  const month = dateTime.getMonth() + 1;\n  const timeCreated = dateTime.toLocaleTimeString();\n  return (\n    <div>\n      <div>\n        <h1 className=\"text-2xl font-bold\">Username</h1>\n\n        <div>\n          <h1 className=\"text-2xl font-bold\">\n            {snippet.title}\n            <div className=\"float-right\">\n              <form method=\"POST\">\n                <input type=\"hidden\" name=\"_method\" value=\"favorite\" />\n                <button type=\"submit\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"h-6 w-6\"\n                    fill={snippet.favorite ? \"red\" : \"none\"}\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    strokeWidth={2}\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                    />\n                  </svg>\n                </button>\n              </form>\n            </div>\n          </h1>\n        </div>\n        <p>Added {`${date}/${month}/${timeCreated}`}</p>\n        <pre className=\"text-blue-600 rounded-2xl bg-gray-800 p-6 mt-4 whitespace-normal\">\n          {snippet.snippet}\n        </pre>\n      </div>\n\n      {/* <code>\n        <pre>{JSON.stringify(snippet, null, 2)}</pre>\n      </code> */}\n\n      <div className=\"flex justify-between items-center mt-6\">\n        <form method=\"POST\">\n          <input type=\"hidden\" name=\"_method\" value=\"delete\" />\n          <button className=\"shadow-lg bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded\">\n            Delete snippet\n          </button>\n        </form>\n\n        <div className=\"float-right\">\n          <form method=\"POST\">\n            <input type=\"hidden\" name=\"_method\" value=\"update\" />\n            <Link\n              className=\"hover:underline\"\n              to={`snippets/update/${snippet._id}`}\n            >\n              <button className=\"shadow-lg bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded\">\n                Update post\n              </button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function CatchBoundary() {\n  const caught = useCatch();\n  return (\n    <div>\n      <h1>\n        {caught.status} {caught.statusText}\n      </h1>\n      <h2>{caught.data}</h2>\n    </div>\n  );\n}\n\nexport function ErrorBoundary({ error }) {\n  return (\n    <h1 className=\"text-red-500 font-bold\">\n      {error.name}: {error.message}\n    </h1>\n  );\n}\n"],
  "mappings": "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",
  "names": []
}

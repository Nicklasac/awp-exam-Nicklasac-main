{
  "version": 3,
  "sources": [
    "../../../../app/routes/posts/$postId.jsx"
  ],
  "sourcesContent": [
    "import { json, redirect } from \"@remix-run/node\";\nimport { useLoaderData, useCatch, Link } from \"@remix-run/react\";\nimport connectDb from \"~/db/connectDb.server.js\";\n\nexport async function loader({ params }) {\n  const db = await connectDb();\n\n  const post = await db.models.Post.findById(params.postId);\n  if (!post) {\n    throw new Response(\n      `I don't seem to be able to find a post with that id: ${params.postId} ðŸ¤”ðŸ”Ž `,\n      {\n        status: 404,\n      }\n    );\n  }\n  return json(post);\n}\n\n//DELETE SELECTED CODE POST\n\nexport const action = async ({ request, params }) => {\n  const db = await connectDb();\n  const form = await request.formData();\n  if (form.get(\"_method\") === \"delete\") {\n    const post = await db.models.Post.findById(params.postId);\n    if (!post)\n      throw new Error(\"The post you are trying to delete doesn't exist\");\n    await post.delete({ where: { id: params.postId } });\n    return redirect(\"../\");\n\n    //ADD SELECTED CODE POST TO FAVORITE / REMOVE FROM FAVORITE\n  } else if (form.get(\"_method\") === \"favorite\") {\n    const post = await db.models.Post.findById(params.postId);\n    post.favorite = !post.favorite;\n    await post.save();\n  }\n  return null;\n};\n\nexport default function PostPage() {\n  const post = useLoaderData();\n  const dateTime = new Date(post.createdAt);\n  const date = dateTime.getDate();\n  const month = dateTime.getMonth() + 1;\n  const timeCreated = dateTime.toLocaleTimeString();\n  return (\n    <div>\n      <div>\n        <h1 className=\"text-2xl font-bold\">\n          <p>hello</p>\n        </h1>\n        <div>\n          <h1 className=\"text-2xl font-bold\">\n            {post.title}\n            <div className=\"float-right\">\n              <form method=\"POST\">\n                <input type=\"hidden\" name=\"_method\" value=\"favorite\" />\n                <button type=\"submit\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"h-6 w-6\"\n                    fill={post.favorite ? \"red\" : \"none\"}\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    strokeWidth={2}\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                    />\n                  </svg>\n                </button>\n              </form>\n            </div>\n            <span className=\"text-xl font-normal\"> - {post.language}</span>\n          </h1>\n        </div>\n        <p>Added {`${date}/${month}/${timeCreated}`}</p>\n        <p className=\"italic\">- {post.description}</p>\n        <pre className=\"text-blue-600 rounded-2xl bg-gray-800 p-6 mt-4 whitespace-normal\">\n          {post.post}\n        </pre>\n      </div>\n\n      {/* <code>\n        <pre>{JSON.stringify(post, null, 2)}</pre>\n      </code> */}\n\n      <div className=\"flex justify-between items-center mt-6\">\n        <form method=\"POST\">\n          <input type=\"hidden\" name=\"_method\" value=\"delete\" />\n          <button className=\"shadow-lg bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded\">\n            Delete post\n          </button>\n        </form>\n\n        <div className=\"float-right\">\n          <form method=\"POST\">\n            <input type=\"hidden\" name=\"_method\" value=\"update\" />\n            <Link\n              className=\"hover:underline\"\n              to={`/posts/update/${post._id}`}\n            >\n              <button className=\"shadow-lg bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded\">\n                Update post\n              </button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function CatchBoundary() {\n  const caught = useCatch();\n  return (\n    <div>\n      <h1>\n        {caught.status} {caught.statusText}\n      </h1>\n      <h2>{caught.data}</h2>\n    </div>\n  );\n}\n\nexport function ErrorBoundary({ error }) {\n  return (\n    <h1 className=\"text-red-500 font-bold\">\n      {error.name}: {error.message}\n    </h1>\n  );\n}\n"
  ],
  "mappings": "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",
  "names": []
}

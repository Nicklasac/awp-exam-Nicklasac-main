{
  "version": 3,
  "sources": [
    "empty-module:~/sessions.server",
    "empty-module:~/db/connectDb.server",
    "../../../../app/routes/posts/new.jsx"
  ],
  "sourcesContent": [
    "module.exports = {};",
    "module.exports = {};",
    "import { Form, useActionData } from \"@remix-run/react\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { getSession } from \"~/sessions.server\";\nimport connectDb from \"~/db/connectDb.server\";\n\n// check if session is valid - if not, redirect to login\nexport async function loader({ request }) {\n  const session = await getSession(request.headers.get(\"Cookie\"));\n  //if (!session.get(\"userId\")) {\n  // return redirect(\"/Login\");\n  //}\n  return json({\n    userId: session.get(\"userId\"),\n  });\n}\n\nexport async function action({ request }) {\n  const form = await request.formData();\n  const db = await connectDb();\n  try {\n    const newPost = await db.models.Post.create({\n      title: form.get(\"title\"),\n      language: form.get(\"language\"),\n      post: form.get(\"post\"),\n      description: form.get(\"description\"),\n    });\n    return redirect(`/posts/${newPost._id}`);\n  } catch (error) {\n    return json(\n      { errors: error.errors, values: Object.fromEntries(form) },\n      { status: 400 }\n    );\n  }\n}\n\nexport default function CreatePost() {\n  const actionData = useActionData();\n  return (\n    <div>\n      <h1 className=\"text-xl\">Create code post</h1>\n      <Form method=\"post\">\n        <label htmlFor=\"title\" className=\"block\">\n          Title\n        </label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          defaultValue={actionData?.values.title}\n          id=\"title\"\n          className={\n            actionData?.errors.title ? \"border-2 border-red-500\" : null\n          }\n        />\n        <label htmlFor=\"language\" className=\"block\">\n          Programming language\n        </label>\n\n        <select\n          defaultValue={actionData?.values.language}\n          name=\"language\"\n          id=\"language\"\n          className=\"form-select form-select-sm\n          appearance-none\n          block\n          px-2\n          py-1\n          text-sm\n          font-normal\n          text-gray-700\n          bg-white bg-clip-padding bg-no-repeat\n          border border-solid border-gray-300\n          rounded\n          transition\n          ease-in-out\n          m-0\n          focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none\"\n        >\n          <option value=\"\">Select language</option>\n          <option value=\"HTML\">HTML</option>\n          <option value=\"CSS\">CSS</option>\n          <option value=\"Javascript\">Javascript</option>\n          <option value=\"C#\">C#</option>\n          <option value=\"Python\">Python</option>\n          <option value=\"Php\">Php</option>\n          <option value=\"Other language\">Other language</option>\n        </select>\n        <label htmlFor=\"post\" className=\"block mb-10 rounded-2xl p-2\">\n          Code post\n        </label>\n        <textarea\n          type=\"text\"\n          name=\"post\"\n          defaultValue={actionData?.values.post}\n          id=\"post\"\n          className={\n            actionData?.errors.post ? \"border-2 border-red-500\" : null\n          }\n        />\n        <label htmlFor=\"description\" className=\"block\">\n          Code description\n        </label>\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          defaultValue={actionData?.values.description}\n          id=\"description\"\n          className={`resize-y\n            ${actionData?.errors.description ? \"border-2 border-red-500\" : null}\n          `}\n        />\n\n        {actionData?.errors.title && (\n          <p className=\"text-red-500\">{actionData.errors.title.message}</p>\n        )}\n        <br />\n        <button\n          className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-10\"\n          type=\"submit\"\n        >\n          Create new post\n        </button>\n      </Form>\n    </div>\n  );\n}\n"
  ],
  "mappings": "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",
  "names": []
}
